# monitor configuration
monitor=DP-2,		2560x1440@165.00,	2560x0,	1
monitor=HDMI-A-1,	1920x1080@144.00,	0x0,	0.75

# workspace definitions
workspace=DP-2,2
workspace=HDMI-A-1,1

# input configuration
input {
    kb_layout = us,ru
    kb_options = grp:alt_shift_toggle
    kb_file =
    kb_variant =
    kb_model =
    kb_rules =

    repeat_delay	=   300
    repeat_rate		=   50

    follow_mouse	=   1
    natural_scroll	=   0
    force_no_accel	=   1
    numlock_by_default	=   1
}

# window configuration
general {
    gaps_in 		=   10
    gaps_out 		=   20
    border_size 	=   4
    col.active_border 	= 0xada400ff # purple
    col.inactive_border = 0x66333333
    sensitivity    =   1.00

    apply_sens_to_raw 	=   0
}

# window decorations
decoration {
    # rounding                =   10
    # multisample_edges       =   true
    # fullscreen_opacity      =   1.0
    # blur                    =   1
    # blur_size               =   6
    # blur_passes             =   4
    # blur_new_optimizations  =   1
    blur_ignore_opacity     =   true
    rounding=25
    blur=1
    blur_size=4
    blur_passes=4
    blur_new_optimizations=0
    drop_shadow=1

    shadow_range=50
    shadow_render_power=2
    shadow_ignore_window=1
    shadow_offset= 0 0
    # col.shadow=0xada400ff
    # col.shadow_inactive=0xada400ff
    col.shadow=0xff0000ff
    col.shadow_inactive=0x00ffffff
}

# dwindle
dwindle {
    force_split 	    =   2
    col.group_border_active =   0xada400ff # purple
    col.group_border	    =   0x66333333
}

# misc
misc {
    enable_swallow	    = 	true
    swallow_regex	      = 	^(Alacritty)$
}

# binds
binds {
    # workspace_back_and_forth =   true
    # allow_workspace_cycles   =   0
}

# bezier=slow,0,0.85,0.3,1
# bezier=overshot,0.7,0.6,0.1,1.1
# bezier=slingshot,1,-1,0.15,1.25
# bezier=nice,0,6.9,0.5,-4.20
#
# animations {
#     enabled=1
#     animation=windows,1,5,overshot,slide
#     animation=border,1,20,default
#     animation=fade,1,5,default
#     animation=workspaces,1,5,overshot,slide
# }

# on startup
exec-once   =   hyprpaper
exec-once   =   hyprctl setcursor DashieCursor 16

# launch foot --server
exec-once   =   foot --server
# bar
exec-once   =   waybar
# notifications
exec-once   =   dunst -config ~/.config/dunst/dunstrc
# keyboard
exec-once   = kmonad ~/.config/kmonad/config.kbd
# clipboard history
exec-once   =   wl-paste -t text --watch clipman store
exec-once   =   wl-paste -p -t text --watch clipman store -P --histpath="~/.local/share/clipman-primary.json"
exec-once   =   clipman restore

# WLR-display
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# exec-once=killall xdg-desktop-portal xdg-desktop-portal-wlr && /usr/lib/xdg-desktop-portal & /usr/lib/xdg-desktop-portal-wlr

# exec-once=~/dotfiles/hypr/scripts/autolaunch_on_workspace

exec-once=systemctl --user restart xdg-desktop-portal
exec-once=/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# window rules

# foot
windowrule = opacity 0.9 0.85,foot
windowrule = tile,foot

# alacritty
windowrule = opacity 0.8 0.75,Alacritty
windowrule = size 50% 50%,Alacritty
windowrule = center,Alacritty
windowrule = tile,Alacritty

# discord
windowrule = opacity 0.9 0.8,discord

# firefox
windowrule = opacity 0.9 0.8,firefox

# brave
windowrule = opacity 0.9 0.9,Brave-browser

# code
windowrule = opacity 0.9 0.8,Code

# feh
windowrule = float,feh

# rofi
windowrule = float, Rofi
blurls=rofi

# fuzzel
windowrule = float,fuzzel
windowrule = opacity 1,fuzzel

# spotify
windowrule = tile,Spotify

# neovide
windowrule = tile,neovide

blurls=gtk-layer-shell
blurls=notifications

# some nice mouse binds
bindm=SUPER,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow

# keybinds
bind=SUPER,Q,exec,alacritty
bind=ALT,Return,exec,footclient
bind=SUPER,Return,exec,cool-retro-term
bind=CTRL,Return,exec,kitty
bind=SUPER,C,killactive,
bind=SUPER,M,exec,notify-send "Pasting link into mpv..." && mpv $(wl-paste)
bind=CTRLSUPERALT,M,exit,
bind=SUPER,E,exec,footclient -e lf
bind=SUPER,V,togglefloating,
bind=SUPER,P,pseudo,
bind=ALT,F,fullscreen,
bind=SUPER,F,fullscreen,
bind=SUPERSHIFT,L,exec,swaylock -f -i ~/pix/wallpapers/black.jpg
bind=SUPER,R,exec,exec $(tofi-run -c ~/.config/tofi/dmenu --prompt-text "Choose a script: ")
# open neovide and focus it
bind=SUPER,N,exec,env WINIT_UNIX_BACKEND=x11 neovide

# disabling binds for csgo competitive gaming
bind=SUPERSHIFT,127,submap,clean
submap=clean
bind=CTRLSHIFT,127,submap,reset
submap=reset

# moving between workspaces
bind=SUPER,h,movefocus,l
bind=SUPER,l,movefocus,r
bind=SUPER,k,movefocus,u
bind=SUPER,j,movefocus,d
bind=SUPER,left,movefocus,l
bind=SUPER,right,movefocus,r
bind=SUPER,up,movefocus,u
bind=SUPER,down,movefocus,d

# changing workspaces
# bind=SUPER,1,exec,~/.config/hypr/scripts/workspace 1
# bind=SUPER,2,exec,~/.config/hypr/scripts/workspace 2
# bind=SUPER,3,exec,~/.config/hypr/scripts/workspace 3
# bind=SUPER,4,exec,~/.config/hypr/scripts/workspace 4
# bind=SUPER,5,exec,~/.config/hypr/scripts/workspace 5
# bind=SUPER,6,exec,~/.config/hypr/scripts/workspace 6
# bind=SUPER,7,exec,~/.config/hypr/scripts/workspace 7
# bind=SUPER,8,exec,~/.config/hypr/scripts/workspace 8
# bind=SUPER,9,exec,~/.config/hypr/scripts/workspace 9
# bind=SUPER,0,exec,~/.config/hypr/scripts/workspace 10
bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPER,7,workspace,7
bind=SUPER,8,workspace,8
bind=SUPER,9,workspace,9
bind=SUPER,0,workspace,10
bind=SUPER,S,togglespecialworkspace,

# moving windows between workspaces
bind=ALT,1,movetoworkspace,1
bind=ALT,2,movetoworkspace,2
bind=ALT,3,movetoworkspace,3
bind=ALT,4,movetoworkspace,4
bind=ALT,5,movetoworkspace,5
bind=ALT,6,movetoworkspace,6
bind=ALT,7,movetoworkspace,7
bind=ALT,8,movetoworkspace,8
bind=ALT,9,movetoworkspace,9
bind=ALT,0,movetoworkspace,10
bind=ALT,S,movetoworkspace,special

# groups <3 hentai man
bind=SUPER,49,togglegroup,
bind=SUPER,tab,changegroupactive,

# media keys
bind=,XF86AudioRaiseVolume,exec,~/.config/dunst/scripts/vol_up.sh
bind=,XF86AudioLowerVolume,exec,~/.config/dunst/scripts/vol_down.sh
bind=,XF86AudioMute,exec,~/.config/dunst/scripts/vol_mute.sh
bind=,XF86AudioPlay,exec,playerctl play-pause
bind=,XF86AudioNext,exec,playerctl next
bind=,XF86AudioPrev,exec,playerctl previous

# clipboard history
bind=CTRLSUPER,C,exec,clipman pick -t wofi
bind=CTRLSUPERALT,C,exec,clipman clear -t wofi
bind=CTRLSUPERALT,V,exec,clipman clear --all

# launchers
bind=SUPER,space,exec,tofi-drun --drun-launch true
bind=ALT,space,exec,tofi-drun -c ~/.config/tofi/dmenu --drun-launch true

# screenshot
bind=,107,exec,grim -o $(hyprctl monitors -j|jq -r '.[]|select(.focused)|.name') -|wl-copy && dunstify "Fullscreen screenshot copied to clipboard ðŸ“¸"
bind=SHIFT,107,exec,grim -g "$(slurp)" -|wl-copy && dunstify "Selection screenshot copied to clipboard ðŸ“¸" -t 1000 -r 1
